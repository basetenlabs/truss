---
title: Getting Started
description: "Getting Started with *Truss Chains*"
---

<Warning>This is a beta feature and subject to breaking changes.</Warning>

# Table of Contents

* [Introduction](/chains/intro)
* [Getting Started](/chains/getting-started)
* [Chaining Chainlets](/chains/chaining-chainlets)
* [Dependencies & Resources](/chains/deps-and-resources)
* [Reference](/chains/full-reference)


This guide shows you how to install Truss chains, create your first chain and run it.

# Installation

Truss chains is available in the a rc version of Truss.

```bash
$ pip install truss==0.9.10rc3
```

## Baseten Setup

* Make sure you have an active baseten-truss login in your environment, i.e. a valid API key in your `.trussrc`.
* Add `baseten_chain_api_key` to [Baseten Secrets](https://app.baseten.co/settings/secrets) setting the token value
 to a baseten API key that has permissions to deploy models (e.g. the same key as in your `.trussrc`).


# Creating your first chainlet

1. Create a chain project directory with a python file in it. You can chose a name and location, in this example we
assume the file is named `hello.py`.
1. Add the following code to the file:

```python
import truss_chains as chains

class HelloWorld(chains.ChainletBase):
    remote_config = chains.RemoteConfig(
        docker_image=chains.DockerImage(
            pip_requirements=["git+https://github.com/basetenlabs/truss.git"]
        )
    )

    def run(self, num_repetitions: int) -> str:
        # Your user code goes here.
        return "Hello World! " * num_repetitions
```

This chainlet takes an integer, and returns the string "Hello World!" repeated that number of times.

# Running it locally

Truss Chains supports a *local development* mode for debugging and testing your chainlets.
To use it, append the following code to your file:

```python
if __name__ == "__main__":
    with chains.run_local():
        my_hello_world = HelloWorld()
        result = my_hello_world.run(num_repetitions=3)

    print(result)
    # Hello World! Hello World! Hello World!
```

And simply run your Python file:

```
$ python hello.py
```

<Warning>
Note `run_local` uses whatever resources and dependencies are in your dev environment. If your chainlet requires a GPU,
or Python dependencies that are not available, it will not work.
</Warning>

# Deploying to Baseten

To deploy your chain to a remote like Baseten, run the following command

```bash
truss chain deploy ./hello.py HelloWorld
```

The last argument `HelloWorld` is the chainlet class name, before that `./hello.py` should point to python file.



This will output a block like this:

```
INFO:root:Using project root for chain: `/home/marius-baseten/workbench/example`.
INFO:root:Deploying `HelloWorld`.
INFO:root:Generating Truss model for `HelloWorld`.
INFO:root:Deploying truss model to Baseten`HelloWorld.HelloWorld` (publish=False, promote=False).
Compressing... ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00
Uploading... ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00
INFO:root:Deployed service: name='HelloWorld.HelloWorld' predict_url='https:/...'.


              ⛓️   HelloWorld - Chainlets  ⛓️
╭──────────────────────┬──────────────────────┬─────────────╮
│ Status               │ Name                 │ Logs URL    │
├──────────────────────┼──────────────────────┼─────────────┤
│ 💚  ACTIVE           │ HelloWorld           │ https://... │
╰──────────────────────┴──────────────────────┴─────────────╯
Deployment succeeded.
You can run the chain with:
curl -X POST 'https://model<MODEL_ID>.api.baseten.co/development/predict' \
    -H "Authorization: Api-Key $BASETEN_API_KEY" \
    -d '<JSON_INPUT>'

```

To test invoking your chain, you can copy+paste the displayed `curl` command from the tail and replace `JSON_INPUT`:

```bash
$ curl -X POST $PREDICT_URL \
  -H "Authorization: Api-Key $BASETEN_API_KEY" \
  -d '{"num_repetitions": 10}'
# "Hello World! Hello World! Hello World! "
```


See the next section [Chaining Chainlets](/chains/chaining-chainlets) for how to deploy chains with multiple
chainlets.
